---
import { getCollection } from 'astro:content';
import DocsLayout from '../layouts/DocsLayout.astro';

const docs = await getCollection("docs");
const sortedDocs = docs.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<DocsLayout title="Kevin's Work Logs">
  <h2>Recent Work Logs</h2>
  <ul style="list-style: none; padding: 0;">
    {sortedDocs.map(doc => (
      <li style="margin-bottom: 1rem;">
        <a href={`/docs/${doc.slug}`} style="color: #333; text-decoration: none; font-size: 1.1em; border-bottom: 1px solid #eee; display: block; padding: 0.5rem 0;">
          <div style="display: flex; justify-content: space-between; align-items: baseline;">
            <span>{doc.data.title}</span>
            <span style="color: #666; font-size: 0.9em; font-style: italic;">
              {doc.data.pubDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
            </span>
          </div>
        </a>
      </li>
    ))}
  </ul>
</DocsLayout>
